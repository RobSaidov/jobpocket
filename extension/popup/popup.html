<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JobPocket</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Space Mono', monospace;
      background: #ffffff;
      color: #0a0a0a;
      width: 320px;
      min-height: 200px;
      font-size: 11px;
    }

    /* Nav */
    .nav {
      border-bottom: 1px solid #e5e5e5;
      padding: 10px 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .nav-logo {
      font-size: 10px;
      font-weight: 700;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      text-decoration: none;
      color: #0a0a0a;
    }
    .nav-link {
      font-size: 9px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: #888;
      text-decoration: none;
    }
    .nav-link:hover { color: #f59e0b; }

    /* Sections */
    .section { padding: 14px; }

    /* Labels */
    .label {
      font-size: 9px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: #888;
      margin-bottom: 4px;
      display: block;
    }

    /* Job header */
    .job-title {
      font-size: 13px;
      font-weight: 700;
      line-height: 1.3;
      margin-bottom: 2px;
    }
    .job-company {
      font-size: 11px;
      color: #555;
      margin-bottom: 12px;
    }

    /* Blocker status */
    .status-box {
      border: 1px solid #e5e5e5;
      padding: 8px 10px;
      margin-bottom: 12px;
      font-size: 10px;
      font-weight: 700;
      letter-spacing: 0.05em;
    }
    .status-box.safe { border-color: #16a34a; color: #16a34a; }
    .status-box.blocked { border-color: #dc2626; color: #dc2626; }
    .blocker-item {
      font-weight: 400;
      margin-top: 4px;
      font-size: 9px;
      display: block;
    }

    /* Tier selector */
    .tier-row {
      display: flex;
      border: 1px solid #e5e5e5;
      margin-bottom: 12px;
    }
    .tier-btn {
      flex: 1;
      padding: 7px 0;
      font-family: 'Space Mono', monospace;
      font-size: 9px;
      font-weight: 700;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      border: none;
      background: #fff;
      color: #888;
      cursor: pointer;
      border-left: 1px solid #e5e5e5;
      transition: background 0.15s, color 0.15s;
    }
    .tier-btn:first-child { border-left: none; }
    .tier-btn.active { background: #f59e0b; color: #0a0a0a; }
    .tier-btn:hover:not(.active) { color: #0a0a0a; }

    /* Inputs */
    .input {
      width: 100%;
      border: 1px solid #e5e5e5;
      padding: 7px 8px;
      font-family: 'Space Mono', monospace;
      font-size: 10px;
      color: #0a0a0a;
      background: #fff;
      outline: none;
      margin-bottom: 8px;
      transition: border-color 0.15s;
    }
    .input:focus { border-color: #0a0a0a; }
    .input::placeholder { color: #bbb; }

    /* Buttons */
    .btn {
      width: 100%;
      padding: 9px;
      font-family: 'Space Mono', monospace;
      font-size: 9px;
      font-weight: 700;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      border: 1px solid #e5e5e5;
      background: #fff;
      color: #0a0a0a;
      cursor: pointer;
      margin-bottom: 6px;
      transition: background 0.15s, border-color 0.15s;
    }
    .btn:hover { border-color: #0a0a0a; }
    .btn.primary { background: #f59e0b; border-color: #f59e0b; }
    .btn.primary:hover { background: #d97706; border-color: #d97706; }
    .btn.secondary { color: #888; }
    .btn:disabled { opacity: 0.4; cursor: not-allowed; }

    /* Message box */
    .message-box {
      border: 1px solid #e5e5e5;
      padding: 10px;
      font-size: 10px;
      line-height: 1.6;
      color: #0a0a0a;
      white-space: pre-wrap;
      word-break: break-word;
      margin-bottom: 8px;
      min-height: 80px;
    }

    .meta-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }
    .word-count { font-size: 9px; color: #888; }
    .word-count.over { color: #dc2626; }

    /* Empty state */
    .empty {
      padding: 32px 14px;
      text-align: center;
    }
    .empty-title {
      font-size: 10px;
      font-weight: 700;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: #ccc;
      margin-bottom: 6px;
    }
    .empty-sub { font-size: 9px; color: #ccc; line-height: 1.5; }

    /* Loading */
    .loading { color: #888; font-size: 10px; text-align: center; padding: 16px 0; }

    /* Divider */
    .divider { border: none; border-top: 1px solid #e5e5e5; margin: 10px 0; }

    /* Hidden */
    .hidden { display: none !important; }
  </style>
</head>
<body>

  <nav class="nav">
    <a class="nav-logo" href="https://jobpocket-7rgkohcd1-robsaidov-5198s-projects.vercel.app/dashboard" target="_blank">JobPocket</a>
    <a class="nav-link" href="https://jobpocket-7rgkohcd1-robsaidov-5198s-projects.vercel.app/dashboard" target="_blank">Dashboard ‚Üí</a>
  </nav>

  <!-- SECTION: No job page -->
  <div id="section-empty" class="hidden">
    <div class="empty">
      <div class="empty-title">No job detected</div>
      <div class="empty-sub">Open a LinkedIn job posting<br/>to get started.</div>
    </div>
  </div>

  <!-- SECTION: Job detected -->
  <div id="section-job" class="hidden">
    <div class="section">
      <span class="label">Job Detected</span>
      <div class="job-title" id="job-title">‚Äî</div>
      <div class="job-company" id="job-company">‚Äî</div>

      <div id="blocker-status" class="status-box safe">
        ‚úì Checking blockers...
      </div>

      <span class="label">Contact Tier</span>
      <div class="tier-row">
        <button class="tier-btn" data-tier="Hot">üî• Hot</button>
        <button class="tier-btn active" data-tier="Warm">üå§ Warm</button>
        <button class="tier-btn" data-tier="Cold">üßä Cold</button>
      </div>

      <span class="label">Contact Name</span>
      <input class="input" id="contact-name" type="text" placeholder="e.g. Sarah Chen" />

      <span class="label">Contact Title</span>
      <input class="input" id="contact-title" type="text" placeholder="e.g. Senior Engineer" />

      <button class="btn primary" id="btn-generate">Generate Outreach ‚Üí</button>
      <button class="btn secondary" id="btn-add">+ Add to JobPocket</button>
    </div>
  </div>

  <!-- SECTION: Outreach generated -->
  <div id="section-outreach" class="hidden">
    <div class="section">
      <span class="label">Generated Message</span>
      <div class="message-box" id="outreach-message"></div>

      <div class="meta-row">
        <span class="word-count" id="word-count">0 / 100 words</span>
        <button class="btn" style="width:auto;padding:5px 10px;margin:0;" id="btn-copy">Copy</button>
      </div>

      <hr class="divider" />
      <button class="btn primary" id="btn-add-from-outreach">+ Add to JobPocket</button>
      <button class="btn secondary" id="btn-back">‚Üê Back</button>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
